<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>I.1. Changes from 2.8.0 to 2.8.1</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="index.html" title="Network UPS Tools User Manual" /><link rel="up" href="api.html" title="I. Upgrading notes" /><link rel="prev" href="api.html" title="I. Upgrading notes" /><link rel="next" href="apis02.html" title="I.2. Changes from 2.7.4 to 2.8.0" /><meta xmlns="" name="format-detection" content="telephone=no" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="api.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="apis02.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_changes_from_2_8_0_to_2_8_1"></a>I.1. Changes from 2.8.0 to 2.8.1</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
PLANNED: Keep track of any further API clean-up?
</li><li class="listitem"><p class="simpara">
Several improvements regarding simultaneous support of USB devices that
  were previously deemed "identical" and so NUT driver instances did not
  start for all of them:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Some more drivers should now use the common USB device matching logic
    and the 7 <code class="literal">ups.conf</code> options for that [#1763], and man pages were
    updated to reflect that [#1766];
</li><li class="listitem">
The <code class="literal">nut-scanner</code> tool should suggest these options in its generated
    device configuration [#1790]: hopefully these would now suffice for
    sufficiently unique combinations;
</li><li class="listitem">
The <code class="literal">nut-scanner</code> tool should also suggest sanity-check violations
    as comments in its generated device configuration [#1810], e.g. bogus
    or duplicate serial number values;
</li><li class="listitem">
The common USB matching logic was updated with an <code class="literal">allow_duplicates</code>
    flag (caveat emptor!) which may help monitor several related no-name
    devices on systems that do not discern "bus" and "device" values
    (although without knowing reliably which one is which… sometimes it
    is better than nothing) [#1756].
</li></ul></div></li><li class="listitem">
Work on NUT for Windows branch led to situation-specific definitions of
  what in POSIX code was all "file descriptors" (an <code class="literal">int</code> type). Now such
  entities are named <code class="literal">TYPE_FD</code>, <code class="literal">TYPE_FD_SER</code> or <code class="literal">TYPE_FD_SOCK</code> with some
  helper macros to name and determine "invalid" values (closed file, etc.)
  Some of these changes happened in NUT header files, and at this time it
  was not investigated whether the set of files delivered for third-party
  code integration (e.g. C/C++ projects binding with <code class="literal">libnutclient</code> or
  `libupsclient) is consistent or requires additional definitions/files.
  If something gets broken by this, it is a bug to address in future [#1556]
</li><li class="listitem"><p class="simpara">
Further revision of public headers delivered by NUT was done, particularly
  to address lack of common data types (<code class="literal">size_t</code>, <code class="literal">ssize_t</code>, <code class="literal">uint16_t</code>,
  <code class="literal">time_t</code> etc.) in third-party client code that earlier sufficed to only
  include NUT headers. Sort of regression by NUT 2.8.0 (note those consumers
  still have to re-declare some numeric variable types used) [#1638]
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
For practical example of NUT consumer adaptation (to cater to both old and
    new API types) please see <a class="ulink" href="https://github.com/collectd/collectd/pull/4043" target="_top">https://github.com/collectd/collectd/pull/4043</a>
</li></ul></div></li><li class="listitem">
Added support for <code class="literal">make install</code> of PyNUT module and NUT-Monitor desktop
  application — such activity was earlier done by packages directly; now
  the packaging recipes may use NUT source-code facilities and package just
  symlinks as relevant for each distro separately [#1462, #1504]
</li><li class="listitem">
Added support for <code class="literal">make sockdebug</code> for easier developer access to the tool;
  also if <code class="literal">configure --with-dev</code> is in effect, it would now be installed to
  the configured <code class="literal">libexec</code> location. A man page was also added. [#1936]
</li><li class="listitem">
NUT software-only drivers (dummy-ups, clone, clone-outlet) separated from
  serial drivers in respective Makefile and configure script options - this
  may impact packaging decisions on some distributions going forward [#1446]
</li><li class="listitem">
GPIO category of drivers was added (<code class="literal">--with-gpio</code> configure script option) -
  this may impact packaging decisions on some (currently Linux released 2018+)
  distributions going forward [#1855]
</li><li class="listitem">
An explicit <code class="literal">configure --with-nut-scanner</code> toggle was added, specifically
  so that build environments requesting <code class="literal">--with-all</code> but lacking <code class="literal">libltdl</code>
  would abort and require the packager either to install the dependency
  or explicitly forfeit building the tool (some distro packages missed it
  quietly in the past) [#1560]
</li><li class="listitem">
<code class="literal">configure</code> script, reference init-script and packaging templates updated
  to eradicate <code class="literal">@PIDPATH@/nut</code> ambiguity in favor of <code class="literal">@ALTPIDPATH@</code> for the
  unprivileged processes vs. <code class="literal">@PIDPATH@</code> for those running as root [#1719]
</li><li class="listitem">
The "layman report" of NUT configuration options displayed after the run
  of <code class="literal">configure</code> script can now be retained and installed by using the
  <code class="literal">--enable-keep_nut_report_feature</code> option; packagers are welcome to make
  use of this, to better keep track of their deliveries [#1826, #1708]
</li><li class="listitem"><p class="simpara">
Renamed generated nut-common.tmpfiles(.in) ⇒ nut-common-tmpfiles.conf(.in)
  to install a /usr/lib/systemd-tmpfiles/*.conf pattern [#1755]
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If earlier NUT v2.8.0 package recipes for your Linux distribution dealt
    with this file, you may have to adjust its name for newer releases.
</li><li class="listitem">
Several other issues have been fixed related to this file and its content,
    including #1030, #1037, #1117 and #1712
</li></ul></div></li><li class="listitem">
Extended Linux systemd support with optional notifications about daemon
  state (READY, RELOADING, STOPPING) and watchdog keep-alive messages.
  Note that <code class="literal">WatchdogSec=</code> values are currently NOT pre-set into systemd
  unit file templates provided by NUT, this is an exercise for end-users
  based on sizing of their deployments and performance of monitoring station
  [#1590, #1777]
</li><li class="listitem">
snmp-ups: some subdrivers (addressed using the driver parameter <code class="literal">mibs</code>)
  were renamed: <code class="literal">pw</code> is now <code class="literal">eaton_pw_nm2</code>, and <code class="literal">pxgx_ups</code> is <code class="literal">eaton_pxg_ups</code>
  [#1715]
</li></ul></div></div><div xmlns="" class="navfooter nut_footer"><hr />
		Last updated 2023-05-26 11:45:52 -- Network UPS Tools 2.8.0.1</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="api.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="api.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="apis02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>