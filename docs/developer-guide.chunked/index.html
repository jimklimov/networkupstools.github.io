<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network UPS Tools Developer Guide</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="index.html" title="Network UPS Tools Developer Guide" /><link rel="next" href="_introduction.html" title="1. Introduction" /><meta xmlns="" name="format-detection" content="telephone=no" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="_introduction.html">Next</a></td></tr></table><hr /></div><div xml:lang="en" class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="idm1"></a>Network UPS Tools Developer Guide</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Russell Kroll, Arnaud Quette, Charles Lepple, Peter Selinger, Jim Klimov and NUT project community contributors</span></h3></div></div></div><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="_introduction.html">1. Introduction</a></span></dt><dt><span class="section"><a href="design.html">2. NUT design document</a></span></dt><dd><dl><dt><span class="section"><a href="design.html#_the_layering">2.1. The layering</a></span></dt><dt><span class="section"><a href="design.html#_how_information_gets_around">2.2. How information gets around</a></span></dt><dt><span class="section"><a href="design.html#_instant_commands">2.3. Instant commands</a></span></dt><dt><span class="section"><a href="design.html#_setting_variables">2.4. Setting variables</a></span></dt><dt><span class="section"><a href="design.html#_example_data_path">2.5. Example data path</a></span></dt><dt><span class="section"><a href="design.html#_history">2.6. History</a></span></dt></dl></dd><dt><span class="section"><a href="developers.html">3. Information for developers</a></span></dt><dd><dl><dt><span class="section"><a href="developers.html#_general_stuff_8201_8212_8201_common_subdirectory">3.1. General stuff — common subdirectory</a></span></dt><dt><span class="section"><a href="developers.html#_device_drivers_8201_8212_8201_main_c">3.2. Device drivers — main.c</a></span></dt><dt><span class="section"><a href="developers.html#_portability">3.3. Portability</a></span></dt><dt><span class="section"><a href="developers.html#_continuous_integration_and_automated_builds">3.4. Continuous Integration and Automated Builds</a></span></dt><dt><span class="section"><a href="developers.html#_integrated_development_environments_ides_and_debugging_nut">3.5. Integrated Development Environments (IDEs) and debugging NUT</a></span></dt><dt><span class="section"><a href="developers.html#_coding_style">3.6. Coding style</a></span></dt><dt><span class="section"><a href="developers.html#_miscellaneous_coding_style_tools">3.7. Miscellaneous coding style tools</a></span></dt><dt><span class="section"><a href="developers.html#_submitting_patches">3.8. Submitting patches</a></span></dt><dt><span class="section"><a href="developers.html#_patch_cohesion">3.9. Patch cohesion</a></span></dt><dt><span class="section"><a href="developers.html#_the_finishing_touches_manual_pages_and_device_entry_in_hcl">3.10. The finishing touches: manual pages and device entry in HCL</a></span></dt><dt><span class="section"><a href="developers.html#_source_code_management">3.11. Source code management</a></span></dt><dt><span class="section"><a href="developers.html#_ignoring_generated_files">3.12. Ignoring generated files</a></span></dt><dt><span class="section"><a href="developers.html#_commit_message_formatting">3.13. Commit message formatting</a></span></dt><dt><span class="section"><a href="developers.html#_commit_sign_off">3.14. Commit sign-off</a></span></dt><dt><span class="section"><a href="developers.html#_repository_etiquette_and_quality_assurance">3.15. Repository etiquette and quality assurance</a></span></dt><dt><span class="section"><a href="developers.html#building">3.16. Building the Code</a></span></dt></dl></dd><dt><span class="section"><a href="new-drivers.html">4. Creating a new driver to support another device</a></span></dt><dd><dl><dt><span class="section"><a href="new-drivers.html#_smart_vs_contact_closure">4.1. Smart vs. Contact-closure</a></span></dt><dt><span class="section"><a href="new-drivers.html#_serial_vs_usb_vs_snmp_and_more">4.2. Serial vs. USB vs. SNMP and more</a></span></dt><dt><span class="section"><a href="new-drivers.html#_overall_concept">4.3. Overall concept</a></span></dt><dt><span class="section"><a href="new-drivers.html#_skeleton_driver">4.4. Skeleton driver</a></span></dt><dt><span class="section"><a href="new-drivers.html#_essential_structure">4.5. Essential structure</a></span></dt><dt><span class="section"><a href="new-drivers.html#_essential_functions">4.6. Essential functions</a></span></dt><dt><span class="section"><a href="new-drivers.html#_data_types">4.7. Data types</a></span></dt><dt><span class="section"><a href="new-drivers.html#_manipulating_the_data">4.8. Manipulating the data</a></span></dt><dt><span class="section"><a href="new-drivers.html#_ups_alarms">4.9. UPS alarms</a></span></dt><dt><span class="section"><a href="new-drivers.html#_staleness_control">4.10. Staleness control</a></span></dt><dt><span class="section"><a href="new-drivers.html#_serial_port_handling">4.11. Serial port handling</a></span></dt><dt><span class="section"><a href="new-drivers.html#_usb_port_handling">4.12. USB port handling</a></span></dt><dt><span class="section"><a href="new-drivers.html#_variable_names">4.13. Variable names</a></span></dt><dt><span class="section"><a href="new-drivers.html#commands">4.14. Message passing support</a></span></dt><dt><span class="section"><a href="new-drivers.html#_enumerated_types">4.15. Enumerated types</a></span></dt><dt><span class="section"><a href="new-drivers.html#_range_values">4.16. Range values</a></span></dt><dt><span class="section"><a href="new-drivers.html#_writable_strings">4.17. Writable strings</a></span></dt><dt><span class="section"><a href="new-drivers.html#_instant_commands_2">4.18. Instant commands</a></span></dt><dt><span class="section"><a href="new-drivers.html#_delays_and_ser__functions">4.19. Delays and ser_* functions</a></span></dt><dt><span class="section"><a href="new-drivers.html#_canonical_input_mode_processing">4.20. Canonical input mode processing</a></span></dt><dt><span class="section"><a href="new-drivers.html#_adding_the_driver_into_the_tree">4.21. Adding the driver into the tree</a></span></dt><dt><span class="section"><a href="new-drivers.html#contact-closure">4.22. Contact closure hardware information</a></span></dt><dt><span class="section"><a href="new-drivers.html#hid-subdrivers">4.23. How to make a new subdriver to support another USB/HID UPS</a></span></dt><dt><span class="section"><a href="new-drivers.html#snmp-subdrivers">4.24. How to make a new subdriver to support another SNMP device</a></span></dt><dt><span class="section"><a href="new-drivers.html#nutdrv_qx-subdrivers">4.25. How to make a new subdriver to support another Q* UPS</a></span></dt></dl></dd><dt><span class="section"><a href="sock-protocol.html">5. Driver/server socket protocol</a></span></dt><dd><dl><dt><span class="section"><a href="sock-protocol.html#_formatting">5.1. Formatting</a></span></dt><dt><span class="section"><a href="sock-protocol.html#_commands_used_by_the_drivers">5.2. Commands used by the drivers</a></span></dt><dt><span class="section"><a href="sock-protocol.html#_commands_sent_by_the_server">5.3. Commands sent by the server</a></span></dt><dt><span class="section"><a href="sock-protocol.html#_design_notes">5.4. Design notes</a></span></dt></dl></dd><dt><span class="section"><a href="augeas.html">6. NUT configuration management with Augeas</a></span></dt><dd><dl><dt><span class="section"><a href="augeas.html#_introduction_2">6.1. Introduction</a></span></dt><dt><span class="section"><a href="augeas.html#_requirements">6.2. Requirements</a></span></dt><dt><span class="section"><a href="augeas.html#_create_a_test_sandbox">6.3. Create a test sandbox</a></span></dt><dt><span class="section"><a href="augeas.html#_start_testing_and_using">6.4. Start testing and using</a></span></dt><dt><span class="section"><a href="augeas.html#_complete_configuration_wizard_example">6.5. Complete configuration wizard example</a></span></dt></dl></dd><dt><span class="section"><a href="devscan.html">7. NUT device discovery</a></span></dt><dd><dl><dt><span class="section"><a href="devscan.html#_introduction_3">7.1. Introduction</a></span></dt><dt><span class="section"><a href="devscan.html#_python_2">7.2. Python</a></span></dt><dt><span class="section"><a href="devscan.html#_perl_2">7.3. Perl</a></span></dt><dt><span class="section"><a href="devscan.html#_java">7.4. Java</a></span></dt></dl></dd><dt><span class="section"><a href="new-clients.html">8. Creating new client</a></span></dt><dd><dl><dt><span class="section"><a href="new-clients.html#_c_c">8.1. C / C++</a></span></dt><dt><span class="section"><a href="new-clients.html#_python_3">8.2. Python</a></span></dt><dt><span class="section"><a href="new-clients.html#_perl_3">8.3. Perl</a></span></dt><dt><span class="section"><a href="new-clients.html#_java_2">8.4. Java</a></span></dt></dl></dd><dt><span class="section"><a href="net-protocol.html">9. Network protocol information</a></span></dt><dd><dl><dt><span class="section"><a href="net-protocol.html#_old_command_removal_notice">9.1. Old command removal notice</a></span></dt><dt><span class="section"><a href="net-protocol.html#_command_reference">9.2. Command reference</a></span></dt><dt><span class="section"><a href="net-protocol.html#_revision_history">9.3. Revision history</a></span></dt><dt><span class="section"><a href="net-protocol.html#_get">9.4. GET</a></span></dt><dt><span class="section"><a href="net-protocol.html#_list">9.5. LIST</a></span></dt><dt><span class="section"><a href="net-protocol.html#_set_3">9.6. SET</a></span></dt><dt><span class="section"><a href="net-protocol.html#_instcmd_3">9.7. INSTCMD</a></span></dt><dt><span class="section"><a href="net-protocol.html#_logout_2">9.8. LOGOUT</a></span></dt><dt><span class="section"><a href="net-protocol.html#_login">9.9. LOGIN</a></span></dt><dt><span class="section"><a href="net-protocol.html#_primary_since_nut_2_8_0_or_master_deprecated">9.10. PRIMARY (since NUT 2.8.0) or MASTER (deprecated)</a></span></dt><dt><span class="section"><a href="net-protocol.html#_fsd">9.11. FSD</a></span></dt><dt><span class="section"><a href="net-protocol.html#_password">9.12. PASSWORD</a></span></dt><dt><span class="section"><a href="net-protocol.html#_username">9.13. USERNAME</a></span></dt><dt><span class="section"><a href="net-protocol.html#_starttls">9.14. STARTTLS</a></span></dt><dt><span class="section"><a href="net-protocol.html#_other_commands">9.15. Other commands</a></span></dt><dt><span class="section"><a href="net-protocol.html#np-errors">9.16. Error responses</a></span></dt><dt><span class="section"><a href="net-protocol.html#_future_ideas">9.17. Future ideas</a></span></dt></dl></dd><dt><span class="section"><a href="dev-tools.html">10. NUT developers tools</a></span></dt><dd><dl><dt><span class="section"><a href="dev-tools.html#dev-simu">10.1. Device simulation</a></span></dt><dt><span class="section"><a href="dev-tools.html#dev-simu-disco">10.2. Simulated devices discovery</a></span></dt><dt><span class="section"><a href="dev-tools.html#dev-recording">10.3. Device recording</a></span></dt></dl></dd><dt><span class="section"><a href="_nut_core_development_and_maintenance.html">11. NUT core development and maintenance</a></span></dt><dd><dl><dt><span class="section"><a href="_nut_core_development_and_maintenance.html#_nut_specific_autoconf_macros">11.1. NUT-specific autoconf macros</a></span></dt><dt><span class="section"><a href="_nut_core_development_and_maintenance.html#roadmap">11.2. NUT roadmap and ideas for future expansion</a></span></dt></dl></dd><dt><span class="appendix"><a href="nut-names.html">A. NUT command and variable naming scheme</a></span></dt><dd><dl><dt><span class="section"><a href="_structured_naming.html">A.1. Structured naming</a></span></dt><dt><span class="section"><a href="_time_and_date_format.html">A.2. Time and Date format</a></span></dt><dt><span class="section"><a href="_variables.html">A.3. Variables</a></span></dt><dd><dl><dt><span class="section"><a href="_variables.html#_device_general_unit_information">device: General unit information</a></span></dt><dt><span class="section"><a href="_variables.html#_ups_general_unit_information">ups: General unit information</a></span></dt><dt><span class="section"><a href="_variables.html#_input_incoming_line_power_information">input: Incoming line/power information</a></span></dt><dt><span class="section"><a href="_variables.html#_output_outgoing_power_inverter_information">output: Outgoing power/inverter information</a></span></dt><dt><span class="section"><a href="_variables.html#_three_phase_additions">Three-phase additions</a></span></dt><dt><span class="section"><a href="_variables.html#_examples_2">EXAMPLES</a></span></dt><dt><span class="section"><a href="_variables.html#_battery_any_battery_details">battery: Any battery details</a></span></dt><dt><span class="section"><a href="_variables.html#_ambient_conditions_from_external_probe_equipment">ambient: Conditions from external probe equipment</a></span></dt><dt><span class="section"><a href="_variables.html#_outlet_smart_outlet_management">outlet: Smart outlet management</a></span></dt><dt><span class="section"><a href="_variables.html#_driver_internal_driver_information">driver: Internal driver information</a></span></dt><dt><span class="section"><a href="_variables.html#_server_internal_server_information">server: Internal server information</a></span></dt></dl></dd><dt><span class="section"><a href="_instant_commands_4.html">A.4. Instant commands</a></span></dt></dl></dd><dt><span class="appendix"><a href="daisychain.html">B. NUT daisychain support notes</a></span></dt><dd><dl><dt><span class="section"><a href="_introduction_4.html">B.1. Introduction</a></span></dt><dt><span class="section"><a href="_implementation_notes.html">B.2. Implementation notes</a></span></dt><dd><dl><dt><span class="section"><a href="_implementation_notes.html#_general_specification">General specification</a></span></dt><dt><span class="section"><a href="_implementation_notes.html#_information_for_developers">Information for developers</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="lib-info.html">C. NUT libraries complementary information</a></span></dt><dd><dl><dt><span class="section"><a href="_introduction_5.html">C.1. Introduction</a></span></dt><dt><span class="section"><a href="_libupsclient_config.html">C.2. libupsclient-config</a></span></dt><dt><span class="section"><a href="_pkgconfig_support.html">C.3. pkgconfig support</a></span></dt><dt><span class="section"><a href="_example_configure_script.html">C.4. Example configure script</a></span></dt><dt><span class="section"><a href="_future_consideration.html">C.5. Future consideration</a></span></dt><dt><span class="section"><a href="_libtool_information.html">C.6. Libtool information</a></span></dt></dl></dd></dl></div></div><div xmlns="" class="navfooter nut_footer"><hr />
		Last updated 2024-10-21 20:44:13 -- Network UPS Tools 2.8.2.1049</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="_introduction.html">Next</a></td></tr></table></div></body></html>